@{
    ViewBag.Title = "Busca";
    double média = 0.0;
}

<div class="mx-auto w-75">
    @{
        if (ViewBag.Oficinas != null)
        {
            for (int i = 0; i < ViewBag.Oficinas.Count; i++)
            {
                if (ViewBag.Oficinas[i].Aprovada == true)
                {
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                    <div class="col-md-2">
                                        @if (ViewBag.Imagens[i] != null)
                                        {
                                            <img src="@ViewBag.Imagens[i].Url" alt="Imagem da Oficina" class="img-thumbnail img-responsive border-0" />
                                        }
                                    </div>
                                    <div class="col-md-4 my-auto">
                                        <h4 class="d-inline-block">@ViewBag.Oficinas[i].Nome</h4>
                                        <i class="bi bi-star-fill ms-2" style="color: #FFBF00"></i>

                                        @if (Double.IsNaN(ViewBag.Médias[i]) == false)
                                        {
                                            média = ViewBag.Médias[i];
                                        }

                                        <span><strong>@média</strong></span>
                                    </div>
                                    <div class="col-md-3 my-auto">
                                        @{ 
                                            System.Text.StringBuilder String = new System.Text.StringBuilder(ViewBag.Oficinas[i].HorarioFuncionamento);
                                            String.Replace("/", " - ");
                                            <h6 class="d-inline-block">Horário de Funcionamento: </h6>
                                            <h6 class="d-inline-block">@String.ToString()</h6>
                                        }
                                    </div>
                                    <div class="col-md-3 my-auto">
                                        <h6 class="d-lg-inline-block">Aceita Importado?</h6>
                                        @if (ViewBag.Oficinas[i].AceitaImportado == true)
                                        {
                                            <i class="bi bi-check-circle-fill ms-3" style="color: forestgreen"></i>
                                        }
                                        else if (ViewBag.Oficinas[i].AceitaImportado == false)
                                        {
                                            <i class="bi bi-x-circle-fill ms-3" style="color: darkred"></i>
                                        }
                                    </div>
                            </div>

                            <a href="@Url.Action("Page", "Oficina", new { Id = ViewBag.Oficinas[i].Id })" class="stretched-link"></a>
                        </div>
                    </div>
                }
            }

        }
        else
        {
            <div class="text-center">
                <h1><i class="bi bi-exclamation-triangle-fill" style="font-size:larger"></i></h1>
                <h1>Oficina ou Serviço com os filtros desejado não foi encontrada<i class="bi bi-exclamation-lg"></i></h1>
            </div>
        }
    }
</div>